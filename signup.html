<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project</title>
    <link  rel="stylesheet" href="./style.css">
    <!--<script>
       const customers = [{ "cust_ID": "1", "custFirstName": "Andrea", "custLastName": "Anderson", "Adress": "22 Mayfield", "Postcode": "WV981JT", "Email": "andrea.anderson13@gmail.com", "Password": "doubleA123" },
            { "cust_ID": "2", "custFirstName": "Tom", "custLastName": "Flowers", "Adress": "2 Westbrook", "Postcode": "L357AB", "Email": "flowerytommytom@outlook.com", "Password": "flowers123" },
            { "cust_ID": "3", "custFirstName": "Stevey", "custLastName": "boi", "Adress": "47 Livington", "Postcode": "RG456AN", "Email": "itsyaboisteve33@hotmail.com", "Password": "yaboi123" },
            { "cust_ID": "4", "custFirstName": "Connor", "custLastName": "Mcnealy", "Adress": "13 Ashdale", "Postcode": "TR50TP", "Email": "mcknees21@gmail.com", "Password": "knees123" },
            { "cust_ID": "5", "custFirstName": "Amy", "custLastName": "Yu", "Adress": "5 Obama", "Postcode": "DE1 3LG", "Email": "sevenatenine789@outlook.com", "Password": "ilovemycat123" }];

            function signup(event){
                event.preventDefault();

                const emailInput = document.getElementById("email");
                const email = emailInput.value;
                const existingCustomer = customers.find(customer => customer.Email === email);
                if (existingCustomer){
                    alert("Your email is already in our system, maybe try logging in instead.");
                    console.log("email already in use.");
                    return;
                } else{
                    //submit form and update json array here.
                }

            }
            const form = document.querySelector("form");
            form.addEventListener("submit", signup);
    

    </script> -->
</head>

<body> 
    <h1> SignUp</h1>
    <!--the sign up form-->
    <form>
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required pattern="^[a-zA-Z0-9\._-]+@[a-zA-Z0-9-]{2,}[.][a-zA-Z]{2,4}$">
      
        <label for="first-name">First Name:</label>
        <input type="firstName" id="first-name" name="first-name" required>
      
        <label for="last-name">Last Name:</label>
        <input type="lastName" id="last-name" name="last-name" required>
      
        <label for="password">Password:</label>
        <input type="password" id="password" name="password" required>
      
        <label for="confirm-password">Confirm Password:</label>
        <input type="password" id="confirm-password" name="confirm-password" required>
      
        <input type="submit" value="Sign Up">
        <!-- link to log in-->
        <p class="logInInstead" >Already have an account? <a href="login.html">Log in here</a></p>
      </form>
      <script>
        const customers = [{ "cust_ID": "1", "custFirstName": "Andrea", "custLastName": "Anderson", "Adress": "22 Mayfield", "Postcode": "WV981JT", "Email": "andrea.anderson13@gmail.com", "Password": "doubleA123" },
             { "cust_ID": "2", "custFirstName": "Tom", "custLastName": "Flowers", "Adress": "2 Westbrook", "Postcode": "L357AB", "Email": "flowerytommytom@outlook.com", "Password": "flowers123" },
             { "cust_ID": "3", "custFirstName": "Stevey", "custLastName": "boi", "Adress": "47 Livington", "Postcode": "RG456AN", "Email": "itsyaboisteve33@hotmail.com", "Password": "yaboi123" },
             { "cust_ID": "4", "custFirstName": "Connor", "custLastName": "Mcnealy", "Adress": "13 Ashdale", "Postcode": "TR50TP", "Email": "mcknees21@gmail.com", "Password": "knees123" },
             { "cust_ID": "5", "custFirstName": "Amy", "custLastName": "Yu", "Adress": "5 Obama", "Postcode": "DE1 3LG", "Email": "sevenatenine789@outlook.com", "Password": "ilovemycat123" }];
 
             function signup(event){
                 event.preventDefault();
                // retrives email inout value
                 const emailInput = document.getElementById("email");
                 const email = emailInput.value;
                 //checks if the email already exists in the customers array
                 const existingCustomer = customers.find(customer => customer.Email === email);
                 if (existingCustomer){
                     alert("Your email is already in our system, maybe try logging in instead.");
                     console.log("email already in use.");
                     return;
                 } else{
                     //submit form and update json array here.
                     const firstNameInput = document.getElementById("first-name");
                     const lastNameInput = document.getElementById("last-name");
                     const passwordInput = document.getElementById("password");
                     const customer = {
                        "cust_ID": customers.length + 1, //increment ID by 1
                        "custFirstName": firstNameInput.value,
                        "custLastName": lastNameInput.value,
                        "Adress": "",
                        "Postcode": "",
                        "Email": emailInput.value,
                        "Password": passwordInput.value
                     };
                     customers.push(customer); // add the new customer to the customers array
                     console.log(customers);
                 }
 
             }
             //retrieves the form element
             const form = document.querySelector("form");
             form.addEventListener("submit", signup);
             

 
     </script>
      
      
</body>
</html>